[gd_scene load_steps=25 format=3 uid="uid://ncpgpt7y0j0i"]

[ext_resource type="Script" uid="uid://dxiho0hditm6l" path="res://player.gd" id="1_0b4ue"]
[ext_resource type="Script" uid="uid://emxchav7xgkt" path="res://level.gd" id="1_f2txt"]
[ext_resource type="Texture2D" uid="uid://bh00v7byuj11p" path="res://images/mario2d.webp" id="1_oi3di"]
[ext_resource type="Texture2D" uid="uid://d1g02knsrwcex" path="res://images/princess.png" id="2_0b4ue"]
[ext_resource type="Texture2D" uid="uid://qk5ttgla3cb" path="res://images/donkeykong.png" id="2_1ainy"]
[ext_resource type="Texture2D" uid="uid://y1yehcsj60l" path="res://images/cena 1.jpg" id="3_f2txt"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_1ainy"]
size = Vector2(10, 27)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_f2txt"]
size = Vector2(10, 36)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_n6hdu"]
size = Vector2(44.5, 51.5)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_5pxul"]
size = Vector2(3, 14.5)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_fedht"]
size = Vector2(3.5, 16.125)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_aoqsc"]
size = Vector2(3.5, 16.125)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_mleqk"]
size = Vector2(6, 16)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_i2t4f"]
size = Vector2(84, 5)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_4c15r"]
size = Vector2(93, 5)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_8cye3"]
size = Vector2(93, 10)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_2orkt"]
size = Vector2(93, 9)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_aicyk"]
size = Vector2(41, 5)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_8b0r0"]
size = Vector2(95, 5)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_h6smj"]
size = Vector2(94, 8)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_v5j5c"]
size = Vector2(95, 8.008041)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_ilwjd"]
size = Vector2(41, 131)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_y3bce"]
size = Vector2(40, 132)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_km5ld"]
size = Vector2(2116, 41)

[node name="Level" type="Node2D"]
position = Vector2(841, -5)
script = ExtResource("1_f2txt")

[node name="Kong" type="Sprite2D" parent="."]
position = Vector2(-615.5, 162)
scale = Vector2(0.8008849, 0.9361702)
texture = ExtResource("2_1ainy")

[node name="SpawBarril" type="Marker2D" parent="."]
position = Vector2(-564, 182)
gizmo_extents = 197.2

[node name="Mario" type="CharacterBody2D" parent="." groups=["jogador"]]
position = Vector2(-679, 617)
script = ExtResource("1_0b4ue")

[node name="Sprite2D" type="Sprite2D" parent="Mario"]
position = Vector2(-105.99999, 8.50001)
scale = Vector2(0.053124983, 0.051190455)
texture = ExtResource("1_oi3di")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Mario"]
position = Vector2(-108, 16.5)
shape = SubResource("RectangleShape2D_1ainy")

[node name="DetectorEscada" type="Area2D" parent="Mario"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Mario/DetectorEscada"]
position = Vector2(-108, 12)
shape = SubResource("RectangleShape2D_f2txt")

[node name="Princesa" type="Area2D" parent="."]
position = Vector2(-319, 133)

[node name="Sprite2D" type="Sprite2D" parent="Princesa"]
position = Vector2(0.9999962, 0)
scale = Vector2(0.29124987, 0.24874993)
texture = ExtResource("2_0b4ue")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Princesa"]
position = Vector2(1, 0)
shape = SubResource("RectangleShape2D_n6hdu")

[node name="Plataformas" type="Node2D" parent="."]
position = Vector2(-294, 8)

[node name="Plataforma1" type="StaticBody2D" parent="Plataformas"]
position = Vector2(35, 166)

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Plataformas/Plataforma1"]
polygon = PackedVector2Array(92, 5, -109, 5, -109, -12, 77, -11)

[node name="Plataforma2" type="StaticBody2D" parent="Plataformas"]
position = Vector2(35, 166)

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Plataformas/Plataforma2"]
polygon = PackedVector2Array(374, 84, 134, 75, -553, 78, -554, 56, 134, 59, 347, 68)

[node name="Plataforma3" type="StaticBody2D" parent="Plataformas"]
position = Vector2(35, 166)

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Plataformas/Plataforma3"]
polygon = PackedVector2Array(498, 84, 416, 85, 443, 70, 497, 70)

[node name="Inversor" type="Area2D" parent="Plataformas/Plataforma3" groups=["inversores"]]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Plataformas/Plataforma3/Inversor"]
position = Vector2(496.5, 77.25)
shape = SubResource("RectangleShape2D_5pxul")

[node name="Plataforma4" type="StaticBody2D" parent="Plataformas"]
position = Vector2(35, 166)

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Plataformas/Plataforma4"]
polygon = PackedVector2Array(574, 141, -149, 165, -122, 145, 574, 122)

[node name="Plataforma5" type="StaticBody2D" parent="Plataformas"]
position = Vector2(35, 166)

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Plataformas/Plataforma5"]
polygon = PackedVector2Array(-192, 164, -350, 168, -318, 150, -215, 145)

[node name="Plataforma6" type="StaticBody2D" parent="Plataformas"]
position = Vector2(156, -55)

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Plataformas/Plataforma6"]
polygon = PackedVector2Array(-510, 390, -589, 390, -589, 373, -534, 372)

[node name="Inversor" type="Area2D" parent="Plataformas/Plataforma6" groups=["inversores"]]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Plataformas/Plataforma6/Inversor"]
position = Vector2(-587.25, 381.125)
shape = SubResource("RectangleShape2D_fedht")

[node name="Plataforma7" type="StaticBody2D" parent="Plataformas"]
position = Vector2(435, 308)

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Plataformas/Plataforma7"]
polygon = PackedVector2Array(-390, 100, -951, 82, -952, 64, -548, 75, -414, 81)

[node name="Plataforma8" type="StaticBody2D" parent="Plataformas"]
position = Vector2(-195, 319)

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Plataformas/Plataforma8"]
polygon = PackedVector2Array(603, 99, 282, 90, 311, 71, 581, 79)

[node name="Plataforma9" type="StaticBody2D" parent="Plataformas"]
position = Vector2(-275, 395)

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Plataformas/Plataforma9"]
polygon = PackedVector2Array(806, 23, 726, 24, 751, 5, 806, 7)

[node name="Inversor" type="Area2D" parent="Plataformas/Plataforma9" groups=["inversores"]]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Plataformas/Plataforma9/Inversor"]
position = Vector2(804.25, 15.0625)
shape = SubResource("RectangleShape2D_aoqsc")

[node name="Plataforma10" type="StaticBody2D" parent="Plataformas"]
position = Vector2(322, 401)

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Plataformas/Plataforma10"]
polygon = PackedVector2Array(-288, 72, -314, 92, 287, 74, 287, 53)

[node name="Plataforma11" type="StaticBody2D" parent="Plataformas"]
position = Vector2(327, 468)

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Plataformas/Plataforma11"]
polygon = PackedVector2Array(-613, 14, -640, 33, -361, 24, -386, 6)

[node name="Plataforma12" type="StaticBody2D" parent="Plataformas"]
position = Vector2(-243, 488)

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Plataformas/Plataforma12"]
polygon = PackedVector2Array(-194, -3, -194, 16, -113, 13, -136, -6)

[node name="Inversor" type="Area2D" parent="Plataformas/Plataforma12" groups=["inversores"]]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Plataformas/Plataforma12/Inversor"]
position = Vector2(-192, 6.5)
shape = SubResource("RectangleShape2D_mleqk")

[node name="Plataforma13" type="StaticBody2D" parent="Plataformas"]
position = Vector2(-247, 561)

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Plataformas/Plataforma13"]
polygon = PackedVector2Array(655, 25, 655, 16, 646, 11, 633, 4, -270, -22, -270, -4)

[node name="Plataforma14" type="StaticBody2D" parent="Plataformas"]
position = Vector2(306, 573)

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Plataformas/Plataforma14"]
polygon = PackedVector2Array(224, 12, 143, 12, 143, 4, 166, -8, 224, -4)

[node name="Inversor" type="Area2D" parent="Plataformas/Plataforma14" groups=["inversores"]]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Plataformas/Plataforma14/Inversor"]
position = Vector2(221, 4)
shape = SubResource("RectangleShape2D_mleqk")

[node name="Plataforma15" type="StaticBody2D" parent="Plataformas"]
position = Vector2(332, 642)

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Plataformas/Plataforma15"]
polygon = PackedVector2Array(275, -20, -514, 1, -847, -3, -846, 7, 121, 4, 274, -2)

[node name="Escadas" type="Node" parent="."]

[node name="Escada1" type="Area2D" parent="Escadas" groups=["escadas"]]
position = Vector2(978, 572)

[node name="Ponte" type="StaticBody2D" parent="Escadas/Escada1"]
collision_layer = 2
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Escadas/Escada1/Ponte"]
position = Vector2(-1, -0.5)
shape = SubResource("RectangleShape2D_i2t4f")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Escadas/Escada1"]
polygon = PackedVector2Array(-45, -4, 18, -5, 41, -4, 30, 2, 18, 8, 18, 57, -23, 58, -23, 8)

[node name="Escada2" type="Area2D" parent="Escadas" groups=["escadas"]]
position = Vector2(523, 495)

[node name="Ponte" type="StaticBody2D" parent="Escadas/Escada2"]
collision_layer = 2
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Escadas/Escada2/Ponte"]
position = Vector2(11.5, -16)
shape = SubResource("RectangleShape2D_4c15r")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Escadas/Escada2"]
polygon = PackedVector2Array(-35, -19, 59, -19, 32, 1, 32, 62, -9, 61, -11, 0)

[node name="Escada3" type="Area2D" parent="Escadas" groups=["escadas"]]
position = Vector2(201, 520)

[node name="Ponte" type="StaticBody2D" parent="Escadas/Escada3"]
collision_layer = 2
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Escadas/Escada3/Ponte"]
position = Vector2(13.5, -29)
shape = SubResource("RectangleShape2D_8cye3")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Escadas/Escada3"]
position = Vector2(1, -16)
polygon = PackedVector2Array(-35, -19, 59, -19, 32, 1, 32, 44, -10, 43, -11, 0)

[node name="Escada4" type="Area2D" parent="Escadas" groups=["escadas"]]
position = Vector2(604, 450)

[node name="Ponte" type="StaticBody2D" parent="Escadas/Escada4"]
collision_layer = 2
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Escadas/Escada4/Ponte"]
position = Vector2(12, -52)
shape = SubResource("RectangleShape2D_2orkt")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Escadas/Escada4"]
position = Vector2(-1, -39)
polygon = PackedVector2Array(-35, -19, 59, -18, 32, 1, 32, 63, -10, 64, -11, 0)

[node name="Escada5" type="Area2D" parent="Escadas" groups=["escadas"]]
position = Vector2(983, 431)

[node name="Ponte" type="StaticBody2D" parent="Escadas/Escada5"]
collision_layer = 2
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Escadas/Escada5/Ponte"]
position = Vector2(-5.5, -26.5)
shape = SubResource("RectangleShape2D_aicyk")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Escadas/Escada5"]
position = Vector2(-17, -10)
polygon = PackedVector2Array(-34, -20, 58, -18, 32, 1, 32, 41, -10, 42, -11, 0)

[node name="Escada6" type="Area2D" parent="Escadas" groups=["escadas"]]
position = Vector2(195, 348)

[node name="Ponte" type="StaticBody2D" parent="Escadas/Escada6"]
collision_layer = 2
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Escadas/Escada6/Ponte"]
position = Vector2(21, -26)
rotation = -0.017453292
shape = SubResource("RectangleShape2D_8b0r0")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Escadas/Escada6"]
position = Vector2(9, -10)
polygon = PackedVector2Array(-35, -18, 60, -19, 28, -1, 29, 43, -9, 42, -11, 0)

[node name="Escada7" type="Area2D" parent="Escadas" groups=["escadas"]]
position = Vector2(420, 345)

[node name="Ponte" type="StaticBody2D" parent="Escadas/Escada7"]
collision_layer = 2
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Escadas/Escada7/Ponte"]
position = Vector2(-7, -27)
shape = SubResource("RectangleShape2D_h6smj")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Escadas/Escada7"]
position = Vector2(-19, -12)
polygon = PackedVector2Array(-35, -19, 59, -19, 32, 1, 32, 53, -10, 52, -11, 0)

[node name="Escada8" type="Area2D" parent="Escadas" groups=["escadas"]]
position = Vector2(980, 277)

[node name="Ponte" type="StaticBody2D" parent="Escadas/Escada8"]
collision_layer = 2
collision_mask = 0

[node name="CollisionShape2D" type="CollisionShape2D" parent="Escadas/Escada8/Ponte"]
position = Vector2(-2.491211, -35.003937)
rotation = 0.017453292
shape = SubResource("RectangleShape2D_v5j5c")

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Escadas/Escada8"]
position = Vector2(-14, -19)
polygon = PackedVector2Array(-37, -21, 59, -19, 32, -4, 32, 38, -10, 39, -10, -5)

[node name="Escada9" type="Area2D" parent="Escadas" groups=["escadas"]]
position = Vector2(700, 187)

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Escadas/Escada9"]
position = Vector2(-16, -21)
polygon = PackedVector2Array(-25, -8, 32, -8, 32, 8, 32, 62, -10, 62, -10, 8)

[node name="Escada10" type="Area2D" parent="Escadas" groups=["escadas"]]
position = Vector2(372, 153)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Escadas/Escada10"]
position = Vector2(0.5, 9.5)
shape = SubResource("RectangleShape2D_ilwjd")

[node name="Escada11" type="Area2D" parent="Escadas" groups=["escadas"]]
position = Vector2(455, 164)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Escadas/Escada11"]
position = Vector2(-2, -2)
shape = SubResource("RectangleShape2D_y3bce")

[node name="FundoLevel" type="Sprite2D" parent="."]
z_index = -1
position = Vector2(-263.00006, 330)
scale = Vector2(2.5185187, 1.263158)
texture = ExtResource("3_f2txt")

[node name="Abismo" type="Area2D" parent="."]
position = Vector2(-53, -59)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Abismo"]
position = Vector2(-210, 808.5)
shape = SubResource("RectangleShape2D_km5ld")

[node name="Timer" type="Timer" parent="."]
wait_time = 3.0
autostart = true

[connection signal="area_entered" from="Mario/DetectorEscada" to="Mario" method="_on_detector_escada_area_entered"]
[connection signal="area_exited" from="Mario/DetectorEscada" to="Mario" method="_on_detector_escada_area_exited"]
[connection signal="body_entered" from="Princesa" to="." method="_on_objetivo_body_entered"]
[connection signal="body_entered" from="Abismo" to="." method="_on_abismo_body_entered"]
[connection signal="timeout" from="Timer" to="." method="_on_timer_timeout"]
